## 房屋租金预测模型

### 我的思路是：
1.根据csv文件判断各类列表数据，挑选出与租金相关度最高的几个备用。
2.首先先清理数据 挑选出status=1的for rent进行计算，如果有时间再考虑status=[2,3,4,5]数据的rent, zetimate_rent列。
3.status=1一共有2239个数据，挑选前2000个进行建模，239个验证。
4.由于能力有限，我先挑选出了size, beds, bath三个重要类型，通过*线性回归*进行建模，得出各自的系数和截距。
5.将验证集代入模型计算模拟租金，与zetimate、rent列表分别进行方差分析，判断模型的误差。

----------
### 结果如下：
test data lenth: 239					// 测试集共239个数据
the variance sigma  :   263627.37		// 模型的方差
the variance of rent:  1633624.44		// rent列与租金的方差

mine V.S. zetimate:						// 对比模型与zetimate预估租金的方差
the variance of me      :  182238.44
the variance of zetimate: 2406692.62

----------

### 讨论
1.从方差结果来看，通过线性回归模型的预估，准确度是zestimate的13倍，是rent列的6倍。
2.但是结果远远不够准确，原始数据中仍有大量价值被浪费，还需要进一步优化。

### 改进思路
1.通过type列的数据，对于Apartment、Condo等不同类型进行分类，建立决策树模型，使租金的预估更加准确。
2.通过longitude、latitude经纬度数据，建立地价表，将不同地域的租金进行修正。
3.尝试利用year_built、year_refresh，对于房屋的建造、装修时间分析，但该类数据较少。

---------
验证结果
1896
[0.6011437993537195, 468.66927189321143, 159.8449805425812] 625.709243179
       zetimate      y     y^    rent
2487.00280808252  2427.9 2397.37 2427.93535243448
              \N  2155.0 1615.51 2116.62243811435
              \N  2135.0 1623.33 2201.90265101241
              \N  2380.0 1702.08 2326.47798274561
              \N  1300.0 1461.02 1300
              \N  1705.0 1309.59 1705
              \N  1595.0 1675.02 1546.55612621429
              \N  2200.0 2492.90 2200
              \N  1400.0 1840.34 1400
              \N  1975.0 1653.98 1400
            1950  1900.0 1795.25 1975
              \N  1795.0 1586.66 1892.78082730792
            1850  1450.0 1653.98 1862.40897057269
            1515  1400.0 1955.10 1417.63076017172
              \N  2700.0 2310.15 1400
            2500  2528.8 2709.96 2700
2521.21263054847  2200.0 1652.78 2528.78047012659
            2200  1795.0 2796.70 2230.84886650036
            2950  2295.0 2423.77 1790.77317604672
              \N  2300.0 1399.76 2222.45092361739
              \N  2785.0 2075.93 2331.60115077132
              \N  1675.0 1834.87 2747.10413421984
              \N  2700.0 2075.33 1663.13679500869
            2700  2495.0 2189.43 2760.57091881072
            2495  1699.0 1572.83 2495
              \N  1300.0 1512.72 1642.77505152622
            1350  1326.8 1370.90 1309.48631817083
              \N  2600.0 2466.07 1326.77874376811
            2750  2195.0 1988.16 2563.51760427309
            2195  1626.2 2189.43 2195
              \N  1175.0 1494.68 1141.96465446452
              \N  2750.0 2315.78 1626.23370775817
            2000  3900.0 2735.16 1175
              \N  1995.0 2276.60 2216.9118011126
              \N  1995.0 1894.98 2785.21068659838
            3500  1495.0 1361.89 3900
            1995  2495.0 2703.90 1995
              \N  2300.0 1929.85 1995
            1795  5980.0 5064.73 1523.95418972642
            2195  1995.0 2045.27 2495
            2195  1895.0 1891.98 2300
            3960  2695.0 2309.66 5980
            1995  2290.0 2604.11 1995
              \N  3200.0 2896.21 1895
              \N  3800.0 2565.75 2700.18115329287
              \N  1695.0 1644.97 2414.23243905378
            2995  1150.0 1394.95 3211.67224502128
              \N   950.0 1236.25 1900
              \N  1400.0 1940.07 3826.80090799924
            1695  2095.0 2483.88 1631.72141948424
              \N  1075.0 1554.80 1366.49575071231
            1400  2300.0 3088.46 948.36526921206
            2250  1095.0 1614.91 1399.44273163087
              \N  2950.0 2884.18 2095
              \N  1995.0 2393.71 1129.70607832732
            2250  3395.0 3705.29 2231.35621553842
              \N  1495.0 1333.63 1123.76752649704
            2400  2275.0 2564.43 2950
            1995  1795.0 1894.98 1995
            2990  2950.0 3034.47 3395
              \N  1795.0 3044.03 1495
            2295  1175.0 3139.08 2275
              \N  2500.0 2015.21 1795
              \N  1500.0 1614.91 2950
              \N  2200.0 2001.39 1795
            2895  2695.0 2944.30 1175
              \N  3495.0 2544.00 2500
              \N  5250.0 3744.90 1500
              \N  2795.0 2450.22 2200
            2600  3200.0 2577.82 2695
              \N  1395.0 1602.89 3495
            2200  1750.0 2408.74 5250
              \N  1456.0 1336.64 2795
            3200  2100.0 2009.20 3200
              \N  1795.0 1894.98 1650
              \N  1920.0 1729.73 1395
              \N  1895.0 1750.17 1295
              \N  1495.0 1614.91 1750
              \N  2295.0 2527.77 1456
            2150  2250.0 2673.78 2100
            5431  1050.0 1554.80 1795
            2000  2995.0 3256.89 1920
              \N  1495.0 1614.91 1895
              \N  1695.0 1705.08 1495
            2300  1350.0 1554.80 2295
            2195  1195.0 1640.16 2250
              \N  2998.0 2773.03 1050
            2995  2650.0 3372.31 2995
              \N  8000.0 4005.86 1495
            1695  1050.0 1554.80 1695
              \N  1750.0 1940.07 1350
              \N  2695.0 3761.52 1495
              \N  1250.0 1663.00 1195
            2795  2895.0 2978.01 2998
            2500  2750.0 2566.24 2650
              \N  3195.0 3328.92 8000
            3687  1475.0 1644.97 1050
              \N  1750.0 1925.04 1750
            2695  1895.0 1925.04 2695
            1950  2575.0 2920.25 1250
            2250  2695.0 2604.11 2895
            2750  2000.0 1925.04 2750
            3195  1900.0 1882.96 3195
              \N  2895.0 3256.78 1475
              \N  1300.0 1690.05 1750
            2100  2095.0 2009.20 1895
            2575  2350.0 1985.16 2575
            2550  3888.0 3208.80 2695
              \N  2500.0 2314.47 2000
            1900  2695.0 2117.41 1900
            2695  3000.0 3094.47 2895
              \N  3175.0 3064.53 1300
              \N  1345.0 1675.02 2095
              \N  6800.0 4989.60 2350
            3758  1300.0 1614.91 3899.99721645791
            2500  1895.0 2075.33 2500
            2850  1650.0 1614.91 2695
            3000  2950.0 2396.40 3000
            2950  1750.0 1786.78 3175
            1660  2650.0 2664.22 1345.03025981273
            1450  2500.0 2493.50 1575
            8670  1495.0 1572.23 6800
              \N  4300.0 3199.13 1300
              \N  2085.0 2255.67 1895
              \N  2600.0 2968.34 1650
            2890  3700.0 3404.72 2953.79751174722
            1800  1925.0 1894.98 1750
              \N  1905.0 1615.51 2650
              \N  6150.0 4147.45 2467.2583834138
              \N  1295.0 1554.80 1495
              \N  3800.0 2781.45 1345
            7196  1750.0 1834.87 4300
              \N  4000.0 3404.72 2085
            2650  1795.0 2003.19 2600
            2700  1900.0 2199.10 3700
              \N  4495.0 2818.83 1925
              \N  1550.0 1605.29 1910
            2895  1725.0 1925.04 6122.32802764901
              \N  1695.0 1675.02 1334.20394721963
            3800  1525.0 1554.80 3830.54640676283
            1825  1695.0 1676.23 1750
              \N  1350.0 1285.54 4000
            1995  1050.0 1218.21 1795
            2200  1225.0 1242.26 1900
            3500  1175.0 1218.82 4495
            2200  1125.0 1203.19 1350
              \N  1300.0 1242.26 1550
              \N  1150.0 1216.41 1725
              \N  1075.0 1191.16 1835
              \N  1150.0 1219.42 1525
              \N  1076.5 1227.83 1703.65050926853
              \N  1175.0 1214.61 1350
              \N  1300.0 1266.31 1050
              \N  1325.0 1286.74 1225
              \N  1225.0 1244.66 1175
              \N  1125.0 1205.59 1125
              \N  1125.0 1205.59 1300
              \N  1175.0 1191.16 1150
              \N  1100.0 1195.97 1075
              \N  1150.0 1205.59 1150
              \N  1175.0 1218.82 1007.25879962391
              \N  1175.0 1219.42 1175
              \N  1125.0 1203.19 1300
              \N  1150.0 1203.19 1325
              \N  1475.0 1269.31 1225
              \N  1250.0 1219.42 1125
              \N  1099.0 1208.60 1125
              \N  1075.0 1190.56 1175
              \N  1250.0 1218.82 1100
              \N  1975.0 1653.98 1150
              \N  1150.0 1205.59 1175
              \N  1200.0 1221.82 1175
              \N  1500.0 1276.53 1125
              \N  1099.0 1208.60 1150
              \N  1175.0 1213.40 1475
              \N  1175.0 1216.41 1250
              \N   995.0 1193.57 1099
              \N  1175.0 1206.19 1075
              \N  1150.0 1208.60 1250
            1975  1225.0 1214.61 2012.36255046755
              \N  1175.0 1214.61 1150
              \N  1195.0 1219.42 1200
              \N  1175.0 1212.20 1500
              \N  1125.0 1203.19 1099
              \N  1125.0 1193.57 1175
              \N  1300.0 1244.66 1175
              \N  1100.0 1191.16 995
              \N  2600.0 1675.02 1175
              \N  1175.0 1213.40 1150
              \N  1200.0 1205.59 1225
              \N  1175.0 1206.19 1175
              \N  1150.0 1216.41 1195
              \N  1350.0 1270.51 1175
              \N  1050.0 1192.36 1125
              \N   995.0 1193.57 1125
              \N  1175.0 1211.00 1300
              \N  1125.0 1203.19 1100
            2195  1250.0 1221.82 3024.65132302343
            2600  1475.0 1261.50 2642.92525452948
              \N  1200.0 1221.82 1175
              \N  1300.0 1238.05 1285.63912104954
              \N  1100.0 1195.97 1200
              \N  1175.0 1211.60 1175
              \N  2220.0 2492.90 1150
              \N  1400.0 1302.98 1350
              \N  1250.0 1212.20 1050
              \N  1225.0 1213.40 995
              \N  1150.0 1195.97 1175
              \N  1175.0 1211.60 1125
              \N  1150.0 1212.80 1250
              \N  2895.0 2531.97 1475
              \N  1450.0 1256.09 1200
              \N  1350.0 1255.49 1300
              \N  3950.0 2992.45 1100
              \N  1300.0 1225.43 1175
              \N  1175.0 1212.20 2220
              \N  1450.0 1263.30 1400
              \N  1450.0 1242.86 1250
              \N  1200.0 1219.42 1225
              \N  1225.0 1211.00 1150
              \N  1150.0 1205.59 1175
              \N  1649.0 1629.94 1150
              \N  2650.0 2532.20 2905.18498936644
              \N  1566.0 1434.63 1450
              \N  1695.0 1693.06 1350
            3500  1980.0 1894.98 3963.73381413885

test data lenth: 239
the variance sigma  :   263627.37
the variance of rent:  1633624.44

mine V.S. zetimate:
the variance of me      :  182238.44
the variance of zetimate: 2406692.62

Process finished with exit code 0
